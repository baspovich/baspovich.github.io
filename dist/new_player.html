<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="css/style.min.css"><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;800;900&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://use.typekit.net/kiy7xng.css"><title>New player</title></head><body><div class="player player-min"><audio id="audio" src="https://myradio24.org/vinila" crossorigin="anonymous"></audio><div class="container"><div class="player-min__wrap"><div class="player-min__wrap-block"><div class="player__live-duration player-min__duration"><span id="hours">00</span>:<span id="minutes">00</span>:<span id="seconds">00</span></div><div class="player__cover player-min__cover" data-myinfo="img" style="background-image: url(&quot;//myradio24.com/img/nocover.jpg&quot;);"></div><button class="player__nav-play player-min__play play-btn_pause" data-play="0"></button><div class="player__song-wrap-text player-min__text"><span data-myinfo="artist">Vinila Vanila</span><br><span data-myinfo="songtitle" class="player-min__text-span">Заставка</span></div></div><div class="player__nav-volbar player-min__volbar"><img class="player__nav-volbar-img" src="icons/volume_icon_half.png"> <input type="range" class="player__nav-vol-progress" min="0" max="100" step="1" value="50"></div></div></div></div><script>window.addEventListener('DOMContentLoaded', () => {
            console.log('init javascript')
            const audio = document.getElementById('audio'),
                  player = document.querySelector('.player'),
                  playBtn = player.querySelector('.player__nav-play'),
                  volumeBar = player.querySelector('.player__nav-vol-progress'),
                  volumeImg = player.querySelector('.player__nav-volbar-img'),
                  cover = player.querySelector('.player__cover'),
                  duration = player.querySelector('.player__live-duration'),
                  durHours = duration.querySelector('#hours'),
                  durMinutes = duration.querySelector('#minutes'),
                  durSeconds = duration.querySelector('#seconds');
        
            let seconds = 0,
                minutes = 0,
                hours = 0;

            let durTimer;
                
            function coverInterval() {
                if (cover.getAttribute('style') == 'background-image: url("//myradio24.com/img/nocover.jpg");') {
                    cover.setAttribute('style', 'background-image: url(img/logo_cover_300.png);');
                    console.log(1);
                }
            }   
            setInterval(coverInterval, 1);
        
            audio.volume = 0.5;
        
            function changeIcon() {
                if (audio.paused) {
                    playBtn.classList.add('play-btn_pause');
                } else {
                    playBtn.classList.remove('play-btn_pause');
                }
            }
        
            function changeVolumeIcon(value, icon) {
        
                if (value == 0) {
                    icon.setAttribute('src', 'icons/volume_icon_off.png');
                }
        
                if (value > 1 && value < 80 ) {
                    icon.setAttribute('src', 'icons/volume_icon_half.png');
                }
        
                if (value > 80) {
                    icon.setAttribute('src', 'icons/volume_icon_full.png');
                }
            }

            function checkTimer(item) {
                if (item <= 9) {
                    return '0' + item;
                } else {
                    return item;
                }
            }
        
            function timer() {
                seconds++;
                if (seconds == 59) {
                    minutes++;
                    seconds = 0;
                }
                if (minutes == 59) {
                    hours++;
                    minutes = 0;
                }
                durSeconds.innerHTML = checkTimer(seconds);
                durMinutes.innerHTML = checkTimer(minutes);
                durHours.innerHTML = checkTimer(hours);
            }
        
            playBtn.addEventListener('click', () => {
                if (playBtn.getAttribute('data-play') == 0) {
                    durTimer = setInterval(timer, 1000);
                    playBtn.setAttribute('data-play', 1);
                    audio.play();
                    changeIcon();
                } else {
                    playBtn.setAttribute('data-play', 0);
                    audio.pause();
                    clearInterval(durTimer);
                    changeIcon();
                }
            });
        
            volumeBar.addEventListener('input', () => {
                const value = volumeBar.value;
        
                audio.volume = value / 100;
                changeVolumeIcon(value, volumeImg);
            }); 
        
            volumeImg.addEventListener('click', () => {
                if (audio.volume == 0 ) {
                    volumeBar.value = 50;
                    audio.volume = 50 / 100;
                    volumeImg.setAttribute('src', 'icons/volume_icon_half.png');
                } else {
                    volumeBar.value = 0;
                    audio.volume = 0;
                    volumeImg.setAttribute('src', 'icons/volume_icon_off.png');
                } 
            });
        });</script><script src="https://myradio24.com/player/player.js" data-port="vinila" data-interval="15" data-vmid="0"></script></body></html>